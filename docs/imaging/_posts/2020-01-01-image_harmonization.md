---
title: "Image Harmonization"
excerpt: "Image Harmonization"
layout: single

---

RBC provides both raw and processed neuroimaging data (structural and functional MRI) for each dataset. However, the neuroimaging data are not harmonized across dataset. Depending on the analyses, users may want to harmonized the data across datasets or data acquisition sites. We implemented a version of data harmonization using CovBat-GAM (Johnson et al., 2007; Fortune et al., 2017; 2018; Chen et al., 2022) in our analysis to assess the association between structural and functional imaging markers and age and psychopathology (i.e., p-factor). Specifically, we used the “covfam” function with Generalized Additive Model (GAM) from [ComBatFamility](https://github.com/andy1764/ComBatFamily) in R. The “covfam” function uses [CovBat](https://github.com/andy1764/CovBat_Harmonization) family (Correcting Covariance Batch Effects; Chen et al., 2022) to harmonized the mean and covariance of data across multiple batches (e.g., sites, datasets). In our developmental analysis (i.e., assessing age effects), “datasets” were treated as batches. Participant “age” was included as the smooth term while “sex” and measures of data quality (i.e., Euler number for structural data and meanFD for functional data) were included as covariates in GAM. Similarly, in the psychopathology analysis, “datasets” were treated as batches, “p-factor” was included as the smooth term, and “age”, “sex” and measures of data quality (i.e., Euler number for structural data and meanFD for functional data) were included as covariates. CovBAT-GAM outputs harmonized structural and functional data while preserving the effects of GAM smooth terms and covariates.
